!function(t){var e={};function n(r){if(e[r])return e[r].exports;var s=e[r]={i:r,l:!1,exports:{}};return t[r].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(r,s,function(e){return t[e]}.bind(null,s));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/assets/",n(n.s=14)}([function(t,e,n){"use strict";var r,s=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},a=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),i=[];function o(t){for(var e=-1,n=0;n<i.length;n++)if(i[n].identifier===t){e=n;break}return e}function c(t,e){for(var n={},r=[],s=0;s<t.length;s++){var a=t[s],c=e.base?a[0]+e.base:a[0],l=n[c]||0,u="".concat(c," ").concat(l);n[c]=l+1;var h=o(u),d={css:a[1],media:a[2],sourceMap:a[3]};-1!==h?(i[h].references++,i[h].updater(d)):i.push({identifier:u,updater:g(d,e),references:1}),r.push(u)}return r}function l(t){var e=document.createElement("style"),r=t.attributes||{};if(void 0===r.nonce){var s=n.nc;s&&(r.nonce=s)}if(Object.keys(r).forEach((function(t){e.setAttribute(t,r[t])})),"function"==typeof t.insert)t.insert(e);else{var i=a(t.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(e)}return e}var u,h=(u=[],function(t,e){return u[t]=e,u.filter(Boolean).join("\n")});function d(t,e,n,r){var s=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=h(e,s);else{var a=document.createTextNode(s),i=t.childNodes;i[e]&&t.removeChild(i[e]),i.length?t.insertBefore(a,i[e]):t.appendChild(a)}}function m(t,e,n){var r=n.css,s=n.media,a=n.sourceMap;if(s?t.setAttribute("media",s):t.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var p=null,f=0;function g(t,e){var n,r,s;if(e.singleton){var a=f++;n=p||(p=l(e)),r=d.bind(null,n,a,!1),s=d.bind(null,n,a,!0)}else n=l(e),r=m.bind(null,n,e),s=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else s()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=s());var n=c(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<n.length;r++){var s=o(n[r]);i[s].references--}for(var a=c(t,e),l=0;l<n.length;l++){var u=o(n[l]);0===i[u].references&&(i[u].updater(),i.splice(u,1))}n=a}}}},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var s={};if(r)for(var a=0;a<this.length;a++){var i=this[a][0];null!=i&&(s[i]=!0)}for(var o=0;o<t.length;o++){var c=[].concat(t[o]);r&&s[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),e.push(c))}},e}},function(t,e,n){t.exports=function(){"use strict";var t="millisecond",e="second",n="minute",r="hour",s="day",a="week",i="month",o="quarter",c="year",l="date",u=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,h=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,d={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},m=function(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t},p={s:m,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),s=n%60;return(e<=0?"+":"-")+m(r,2,"0")+":"+m(s,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),s=e.clone().add(r,i),a=n-s<0,o=e.clone().add(r+(a?-1:1),i);return+(-(r+(n-s)/(a?s-o:o-s))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(u){return{M:i,y:c,w:a,d:s,D:l,h:r,m:n,s:e,ms:t,Q:o}[u]||String(u||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},f="en",g={};g[f]=d;var _=function(t){return t instanceof b},y=function(t,e,n){var r;if(!t)return f;if("string"==typeof t)g[t]&&(r=t),e&&(g[t]=e,r=t);else{var s=t.name;g[s]=t,r=s}return!n&&r&&(f=r),r||!n&&f},v=function(t,e){if(_(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new b(n)},w=p;w.l=y,w.i=_,w.w=function(t,e){return v(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var b=function(){function d(t){this.$L=y(t.locale,null,!0),this.parse(t)}var m=d.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(w.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match(u);if(r){var s=r[2]-1||0,a=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],s,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)):new Date(r[1],s,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return w},m.isValid=function(){return!("Invalid Date"===this.$d.toString())},m.isSame=function(t,e){var n=v(t);return this.startOf(e)<=n&&n<=this.endOf(e)},m.isAfter=function(t,e){return v(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<v(t)},m.$g=function(t,e,n){return w.u(t)?this[e]:this.set(n,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,o){var u=this,h=!!w.u(o)||o,d=w.p(t),m=function(t,e){var n=w.w(u.$u?Date.UTC(u.$y,e,t):new Date(u.$y,e,t),u);return h?n:n.endOf(s)},p=function(t,e){return w.w(u.toDate()[t].apply(u.toDate("s"),(h?[0,0,0,0]:[23,59,59,999]).slice(e)),u)},f=this.$W,g=this.$M,_=this.$D,y="set"+(this.$u?"UTC":"");switch(d){case c:return h?m(1,0):m(31,11);case i:return h?m(1,g):m(0,g+1);case a:var v=this.$locale().weekStart||0,b=(f<v?f+7:f)-v;return m(h?_-b:_+(6-b),g);case s:case l:return p(y+"Hours",0);case r:return p(y+"Minutes",1);case n:return p(y+"Seconds",2);case e:return p(y+"Milliseconds",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(a,o){var u,h=w.p(a),d="set"+(this.$u?"UTC":""),m=(u={},u[s]=d+"Date",u[l]=d+"Date",u[i]=d+"Month",u[c]=d+"FullYear",u[r]=d+"Hours",u[n]=d+"Minutes",u[e]=d+"Seconds",u[t]=d+"Milliseconds",u)[h],p=h===s?this.$D+(o-this.$W):o;if(h===i||h===c){var f=this.clone().set(l,1);f.$d[m](p),f.init(),this.$d=f.set(l,Math.min(this.$D,f.daysInMonth())).$d}else m&&this.$d[m](p);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[w.p(t)]()},m.add=function(t,o){var l,u=this;t=Number(t);var h=w.p(o),d=function(e){var n=v(u);return w.w(n.date(n.date()+Math.round(e*t)),u)};if(h===i)return this.set(i,this.$M+t);if(h===c)return this.set(c,this.$y+t);if(h===s)return d(1);if(h===a)return d(7);var m=(l={},l[n]=6e4,l[r]=36e5,l[e]=1e3,l)[h]||1,p=this.$d.getTime()+t*m;return w.w(p,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this;if(!this.isValid())return"Invalid Date";var n=t||"YYYY-MM-DDTHH:mm:ssZ",r=w.z(this),s=this.$locale(),a=this.$H,i=this.$m,o=this.$M,c=s.weekdays,l=s.months,u=function(t,r,s,a){return t&&(t[r]||t(e,n))||s[r].substr(0,a)},d=function(t){return w.s(a%12||12,t,"0")},m=s.meridiem||function(t,e,n){var r=t<12?"AM":"PM";return n?r.toLowerCase():r},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:o+1,MM:w.s(o+1,2,"0"),MMM:u(s.monthsShort,o,l,3),MMMM:u(l,o),D:this.$D,DD:w.s(this.$D,2,"0"),d:String(this.$W),dd:u(s.weekdaysMin,this.$W,c,2),ddd:u(s.weekdaysShort,this.$W,c,3),dddd:c[this.$W],H:String(a),HH:w.s(a,2,"0"),h:d(1),hh:d(2),a:m(a,i,!0),A:m(a,i,!1),m:String(i),mm:w.s(i,2,"0"),s:String(this.$s),ss:w.s(this.$s,2,"0"),SSS:w.s(this.$ms,3,"0"),Z:r};return n.replace(h,(function(t,e){return e||p[t]||r.replace(":","")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(t,l,u){var h,d=w.p(l),m=v(t),p=6e4*(m.utcOffset()-this.utcOffset()),f=this-m,g=w.m(this,m);return g=(h={},h[c]=g/12,h[i]=g,h[o]=g/3,h[a]=(f-p)/6048e5,h[s]=(f-p)/864e5,h[r]=f/36e5,h[n]=f/6e4,h[e]=f/1e3,h)[d]||f,u?g:w.a(g)},m.daysInMonth=function(){return this.endOf(i).$D},m.$locale=function(){return g[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=y(t,e,!0);return r&&(n.$L=r),n},m.clone=function(){return w.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},d}(),$=b.prototype;return v.prototype=$,[["$ms",t],["$s",e],["$m",n],["$H",r],["$W",s],["$M",i],["$y",c],["$D",l]].forEach((function(t){$[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),v.extend=function(t,e){return t.$i||(t(e,b,v),t.$i=!0),v},v.locale=y,v.isDayjs=_,v.unix=function(t){return v(1e3*t)},v.en=g[f],v.Ls=g,v.p={},v}()},function(t,e,n){"use strict";var r=n(1),s=n.n(r)()((function(t){return t[1]}));s.push([t.i,".header{\r\n    /* padding: 1rem; */\r\n    height: 12vh;\r\n    background: brown;\r\n    color: white;\r\n    position: relative;\r\n    display: flex;\r\n    align-items: center;\r\n}\r\n.control_pannel__list{\r\n    width: 50%;\r\n}\r\n.control_pannel__btn{\r\n    min-width: 3rem;\r\n    border: 2px solid white;\r\n    color: white;\r\n    border-radius: 20px;\r\n    padding: 0.5rem 1rem;\r\n    cursor: pointer;\r\n    background: none;\r\n}\r\n.control_pannel__btn:hover{\r\n    background: white;\r\n    color: #666;\r\n}\r\n.control_pannel__icon{\r\n    width: 3rem;\r\n    display: none;\r\n}\r\n\r\n@media(max-width: 900px){\r\n    .header-container{\r\n        position: fixed;\r\n        bottom: 0;\r\n        z-index: 5;\r\n        width: 100%;\r\n    }\r\n    .header{\r\n        background: #f9f9f9;\r\n        width: 100%;\r\n        height: 18vh;\r\n    }\r\n    .control_pannel__list{\r\n        width: 100%;\r\n        display: none;\r\n    }\r\n    .control_pannel{\r\n        display: flex;\r\n        justify-content: space-evenly;\r\n    }\r\n    .control_pannel__btn{\r\n        border: none;\r\n        min-width: 4rem;\r\n        padding: 0.5rem;\r\n        display: flex;\r\n        flex-flow: column;\r\n        align-items: center;\r\n        background: #f9f9f9;\r\n        font-size: 0.6rem;\r\n        color: #666;\r\n    }\r\n    .control_pannel__btn:hover{\r\n        background: white;\r\n    }\r\n    .control_pannel__icon{\r\n        width: 1.5rem;\r\n        display: block;\r\n        margin-bottom: 0.5rem;\r\n    }\r\n}",""]),e.a=s},function(t,e,n){"use strict";var r=n(1),s=n.n(r)()((function(t){return t[1]}));s.push([t.i,".slider-menu-btn{\r\n    display: none;\r\n}\r\n.slider-menu{\r\n    display: none;\r\n}\r\n\r\n@media(max-width: 900px) {\r\n    .slider-menu-btn{\r\n        display: flex;\r\n    }\r\n    .slider-menu{\r\n        width: 80%;\r\n        display: flex;\r\n    }\r\n}",""]),e.a=s},function(t,e,n){"use strict";var r=n(1),s=n.n(r)()((function(t){return t[1]}));s.push([t.i,".search{\r\n    top: 50%;\r\n    transform: translate(-50%, -50%);\r\n    position: absolute;\r\n    right:1rem;\r\n}\r\n.search-btn{\r\n    display: none;\r\n}\r\n.search__error{\r\n    transition: opacity, 300ms;\r\n    opacity: 0;\r\n    font-size: 0.8rem;\r\n    color: black;\r\n    position: absolute;\r\n    right: 105%;\r\n    top: -1rem;\r\n    width: 300px;\r\n}\r\n.full-opacity{\r\n    opacity: 1;\r\n}\r\n.search__input{\r\n    padding: 0.5rem;\r\n}\r\n.search__btn{\r\n    padding: 0.5rem;\r\n}   \r\n\r\n@media(max-width: 900px){\r\n    .search-container{\r\n        display: flex;\r\n        position: relative;\r\n        justify-content: center;\r\n        align-items: center;\r\n        width: 100%;\r\n        height: 100%;\r\n    }\r\n    .search{\r\n        position: static;\r\n        transform: translate(0, 0);\r\n    }\r\n    \r\n    .search.hidden-mobile{\r\n        display: none;\r\n    }\r\n}\r\n@media(max-width: 700px){\r\n    .search__error{\r\n        font-size: 0.8rem;\r\n        color: black;\r\n        position: absolute;\r\n        top: -8rem;\r\n        width: 300px;\r\n        right: 0;\r\n    }\r\n}",""]),e.a=s},function(t,e,n){"use strict";var r=n(1),s=n.n(r)()((function(t){return t[1]}));s.push([t.i,".loader,\r\n.loader:after {\r\n  border-radius: 50%;\r\n  width: 10em;\r\n  height: 10em;\r\n}\r\n.loader {\r\n  margin: 60px auto;\r\n  font-size: 10px;\r\n  position: relative;\r\n  text-indent: -9999em;\r\n  border-top: 1.1em solid rgba(255, 255, 255, 0.2);\r\n  border-right: 1.1em solid rgba(255, 255, 255, 0.2);\r\n  border-bottom: 1.1em solid rgba(255, 255, 255, 0.2);\r\n  border-left: 1.1em solid #ffffff;\r\n  -webkit-transform: translateZ(0);\r\n  -ms-transform: translateZ(0);\r\n  transform: translateZ(0);\r\n  -webkit-animation: load8 1.1s infinite linear;\r\n  animation: load8 1.1s infinite linear;\r\n}\r\n@-webkit-keyframes load8 {\r\n  0% {\r\n    -webkit-transform: rotate(0deg);\r\n    transform: rotate(0deg);\r\n  }\r\n  100% {\r\n    -webkit-transform: rotate(360deg);\r\n    transform: rotate(360deg);\r\n  }\r\n}",""]),e.a=s},function(t,e,n){"use strict";var r=n(1),s=n.n(r)()((function(t){return t[1]}));s.push([t.i,".backdrop{\r\n    display: none;\r\n    position: fixed;\r\n    height: 100vh;\r\n    width: 100vw;\r\n    background-color: rgba(0, 0, 0, 0.6);\r\n    z-index: 200;\r\n}\r\n.modal__option{\r\n    cursor: pointer;\r\n    padding: 1rem;\r\n}\r\n.modal__option:hover{\r\n    background:sandybrown;\r\n}\r\n.modal-container{\r\n    z-index: 300;\r\n    position: fixed;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate( -50%, -50%)\r\n}\r\n\r\n.modal__content{\r\n    max-height: 80vh;\r\n    overflow: auto;\r\n}\r\n\r\n@media(max-width: 900px){\r\n    .modal-container{\r\n        width: 90%;\r\n        max-height: 80vh;\r\n    }\r\n    .modal__content{\r\n        max-height: 60vh;\r\n    }\r\n}\r\n",""]),e.a=s},function(t,e,n){"use strict";var r=n(1),s=n.n(r)()((function(t){return t[1]}));s.push([t.i,".clock{\r\n    color: #ccc;\r\n    font-size: 2rem;\r\n}",""]),e.a=s},function(t,e,n){"use strict";var r=n(1),s=n.n(r)()((function(t){return t[1]}));s.push([t.i,'.main-weather{\r\n    margin-top: 1rem;\r\n    align-items: center;\r\n    justify-content: center;\r\n    position: relative;\r\n    display: flex;\r\n    width: 100%;\r\n}\r\n\r\n.current-weather{\r\n    position: relative;\r\n    background: rgba(0, 0, 0, 0.1);\r\n    border-radius: 20px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    width: 50%;\r\n}\r\n\r\n.weather{\r\n    width: 100%;\r\n    height: 300px;\r\n    display: grid;\r\n    grid-template-columns: 1fr 1fr;\r\n    grid-template-rows: 1fr 1fr 1fr 1fr;\r\n    grid-template-areas: "location date"\r\n                         "temperature time"\r\n                         "temperature items"\r\n                         "summary items";\r\n    align-items: center;\r\n    justify-content: center;\r\n}\r\n\r\n.weather__clock{\r\n    grid-area: time;\r\n    /* margin-bottom: 3rem; */\r\n}\r\n.weather__date::first-letter{\r\n    text-transform: capitalize;\r\n}\r\n.weather-info{\r\n    grid-area: items;\r\n}\r\n.weather-info__item{\r\n    margin: 0.5rem 0;\r\n}\r\n\r\n.weather__error{\r\n    width: 100%;\r\n    text-align: center;\r\n    color: white;\r\n}\r\n.weather__description{\r\n    grid-column: 1;\r\n    grid-row: 4;\r\n    grid-area: summary;\r\n    font-size: 1.4rem;\r\n    color: #666;\r\n}\r\n.weather__temperature{\r\n    color: #666;\r\n    font-size: 5rem;\r\n    grid-area: temperature;\r\n}\r\n\r\n@media(max-width: 900px){\r\n    .current-weather{\r\n        margin: 0;\r\n        width: 90%;\r\n        max-width: 500px;\r\n    }\r\n    .weather{\r\n        justify-items: center;\r\n        height: auto;\r\n        grid-template-columns: 1fr 2fr;\r\n        grid-template-rows: auto;\r\n        grid-template-areas: "location date"\r\n                            "time time"\r\n                            "temperature temperature"\r\n                            "summary summary"\r\n                            "items items"\r\n    }\r\n    .main-weather{\r\n        flex-flow: column;\r\n    }\r\n    .weather__date{\r\n        font-size: 0.8rem;\r\n        min-width: 100px;\r\n    }\r\n    .weather__location{\r\n        font-size: 0.8rem;\r\n    }\r\n    .weather__temperature{\r\n        text-align: center;\r\n        margin-top: 1rem;\r\n    }\r\n\r\n}',""]),e.a=s},function(t,e,n){"use strict";var r=n(1),s=n.n(r)()((function(t){return t[1]}));s.push([t.i,".forecast{\r\n    position: relative;\r\n    align-self: flex-start;\r\n    margin-top: 1rem;\r\n    width: 100%;\r\n    display: flex;\r\n    justify-content: center;\r\n}\r\n.forecast__day{\r\n   margin: 0 1rem;\r\n   width: 300px;\r\n}\r\n.forecast__date{\r\n    font-size: 1.1rem;\r\n    border-bottom: 1px solid #ccc;\r\n    margin-bottom: 1rem;\r\n}\r\n.forecast__temperature{\r\n    margin: 1rem 0;\r\n    font-size: 2rem;\r\n    color: #666;\r\n}\r\n\r\n@media(max-width: 900px){\r\n    .forecast{\r\n        flex-flow: column;\r\n        align-items: center;\r\n        margin-bottom: 7rem;\r\n    }\r\n    .forecast__day{\r\n        margin: 1rem 0;\r\n    }\r\n}",""]),e.a=s},function(t,e,n){t.exports=function(t){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t;var e="января_февраля_марта_апреля_мая_июня_июля_августа_сентября_октября_ноября_декабря".split("_"),n="январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_"),r="янв._февр._мар._апр._мая_июня_июля_авг._сент._окт._нояб._дек.".split("_"),s="янв._февр._март_апр._май_июнь_июль_авг._сент._окт._нояб._дек.".split("_"),a=/D[oD]?(\[[^[\]]*\]|\s)+MMMM?/;function i(t,e,n){var r,s;return"m"===n?e?"минута":"минуту":t+" "+(r=+t,s={mm:e?"минута_минуты_минут":"минуту_минуты_минут",hh:"час_часа_часов",dd:"день_дня_дней",MM:"месяц_месяца_месяцев",yy:"год_года_лет"}[n].split("_"),r%10==1&&r%100!=11?s[0]:r%10>=2&&r%10<=4&&(r%100<10||r%100>=20)?s[1]:s[2])}var o=function(t,r){return a.test(r)?e[t.month()]:n[t.month()]};o.s=n,o.f=e;var c=function(t,e){return a.test(e)?r[t.month()]:s[t.month()]};c.s=s,c.f=r;var l={name:"ru",weekdays:"воскресенье_понедельник_вторник_среда_четверг_пятница_суббота".split("_"),weekdaysShort:"вск_пнд_втр_срд_чтв_птн_сбт".split("_"),weekdaysMin:"вс_пн_вт_ср_чт_пт_сб".split("_"),months:o,monthsShort:c,weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., H:mm",LLLL:"dddd, D MMMM YYYY г., H:mm"},relativeTime:{future:"через %s",past:"%s назад",s:"несколько секунд",m:i,mm:i,h:"час",hh:i,d:"день",dd:i,M:"месяц",MM:i,y:"год",yy:i},ordinal:function(t){return t}};return t.locale(l,null,!0),l}(n(2))},function(t,e,n){t.exports=function(){"use strict";return function(t,e,n){var r=e.prototype;n.utc=function(t){return new e({date:t,utc:!0,args:arguments})},r.utc=function(t){var e=n(this.toDate(),{locale:this.$L,utc:!0});return t?e.add(this.utcOffset(),"minute"):e},r.local=function(){return n(this.toDate(),{locale:this.$L,utc:!1})};var s=r.parse;r.parse=function(t){t.utc&&(this.$u=!0),this.$utils().u(t.$offset)||(this.$offset=t.$offset),s.call(this,t)};var a=r.init;r.init=function(){if(this.$u){var t=this.$d;this.$y=t.getUTCFullYear(),this.$M=t.getUTCMonth(),this.$D=t.getUTCDate(),this.$W=t.getUTCDay(),this.$H=t.getUTCHours(),this.$m=t.getUTCMinutes(),this.$s=t.getUTCSeconds(),this.$ms=t.getUTCMilliseconds()}else a.call(this)};var i=r.utcOffset;r.utcOffset=function(t,e){var n=this.$utils().u;if(n(t))return this.$u?0:n(this.$offset)?i.call(this):this.$offset;var r=Math.abs(t)<=16?60*t:t,s=this;if(e)return s.$offset=r,s.$u=0===t,s;if(0!==t){var a=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(s=this.local().add(r+a,"minute")).$offset=r,s.$x.$localOffset=a}else s=this.utc();return s};var o=r.format;r.format=function(t){var e=t||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return o.call(this,e)},r.valueOf=function(){var t=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||(new Date).getTimezoneOffset());return this.$d.valueOf()-6e4*t},r.isUTC=function(){return!!this.$u},r.toISOString=function(){return this.toDate().toISOString()},r.toString=function(){return this.toDate().toUTCString()};var c=r.toDate;r.toDate=function(t){return"s"===t&&this.$offset?n(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():c.call(this)};var l=r.diff;r.diff=function(t,e,r){if(t&&this.$u===t.$u)return l.call(this,t,e,r);var s=this.local(),a=n(t).local();return l.call(s,a,e,r)}}}()},function(t,e,n){t.exports=function(){"use strict";var t={year:0,month:1,day:2,hour:3,minute:4,second:5},e={};return function(n,r,s){var a,i=s().utcOffset(),o=function(t,n,r){void 0===r&&(r={});var s=new Date(t);return function(t,n){void 0===n&&(n={});var r=n.timeZoneName||"short",s=t+"|"+r,a=e[s];return a||(a=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:r}),e[s]=a),a}(n,r).formatToParts(s)},c=function(e,n){for(var r=o(e,n),a=[],i=0;i<r.length;i+=1){var c=r[i],l=c.type,u=c.value,h=t[l];h>=0&&(a[h]=parseInt(u,10))}var d=a[3],m=24===d?0:d,p=a[0]+"-"+a[1]+"-"+a[2]+" "+m+":"+a[4]+":"+a[5]+":000",f=+e;return(s.utc(p).valueOf()-(f-=f%1e3))/6e4},l=r.prototype;l.tz=function(t,e){void 0===t&&(t=a);var n=this.utcOffset(),r=this.toDate().toLocaleString("en-US",{timeZone:t}),o=Math.round((this.toDate()-new Date(r))/1e3/60),c=s(r).$set("millisecond",this.$ms).utcOffset(i-o,!0);if(e){var l=c.utcOffset();c=c.add(n-l,"minute")}return c.$x.$timezone=t,c},l.offsetName=function(t){var e=this.$x.$timezone||s.tz.guess(),n=o(this.valueOf(),e,{timeZoneName:t}).find((function(t){return"timezonename"===t.type.toLowerCase()}));return n&&n.value};var u=l.startOf;l.startOf=function(t,e){if(!this.$x||!this.$x.$timezone)return u.call(this,t,e);var n=s(this.format("YYYY-MM-DD HH:mm:ss:SSS"));return u.call(n,t,e).tz(this.$x.$timezone,!0)},s.tz=function(t,e,n){var r=n&&e,i=n||e||a,o=c(+s(),i);if("string"!=typeof t)return s(t).tz(i);var l=function(t,e,n){var r=t-60*e*1e3,s=c(r,n);if(e===s)return[r,e];var a=c(r-=60*(s-e)*1e3,n);return s===a?[r,s]:[t-60*Math.min(s,a)*1e3,Math.max(s,a)]}(s.utc(t,r).valueOf(),o,i),u=l[0],h=l[1],d=s(u).utcOffset(h);return d.$x.$timezone=i,d},s.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},s.tz.setDefault=function(t){a=t}}}()},function(t,e,n){"use strict";async function r(t,e){const n=Object.entries(e).map(t=>`${t[0]}=${t[1]}`).join("&"),r=await fetch(`${t}?${n}`,{method:"GET"});return await r.json()}n.r(e);class s{constructor(t,e){this.lat=t,this.lng=e}toString(){return`${this.lat},${this.lng}`}}function a(t){return{...function(t){const e=`${t.city}, ${t.country}`,[n,r]=t.loc.split(",");return{location:e,latLng:new s(n,r),timezone:t.timezone}}(t),language:function(t){return"ru"===t.country.toLowerCase()?"ru":"en"}(t),units:function(t){return"US"===t.country?"f":"c"}(t)}}function i(t){return t.town||t.city||t.state?(t.city||t.town||t.state)+", "+t.country:t.county+", "+t.country}class o{constructor(){this.url="https://ipinfo.io",this.token="c2c2d484e7ce47"}async getLocation(){return(({city:t,country:e,loc:n,timezone:r})=>({city:t,country:e,loc:n,timezone:r}))(await r(this.url,{token:this.token}))}}class c{constructor(t){this.props=t}createElement(){throw new Error("Error while creating UIComponent element. If this error ocured, you probably forgot to create a createElement method inside of your UIComponent")}}class l{constructor(t,e,n){this.type=t,this.props=e,this.children=n}render(){const t=document.createElement(this.type);return Object.keys(this.props).forEach(e=>{"onClick"!==e?"onSubmit"!==e?t[e]=this.props[e]:t.addEventListener("submit",this.props[e]):t.addEventListener("click",this.props[e])}),this.children.forEach(e=>{t.append(e instanceof l?e.render():e)}),t}}function u(t,e,...n){let r;if(t.prototype instanceof c){let s=t;return e.children=n,r=new s(e).createElement(),r}return r=new l(t,e,n),r}function h(t,e){const n=document.getElementById(e);n.innerHTML="",t instanceof Array?t.forEach(t=>n.append(t instanceof l?t.render():t)):n.append(t instanceof l?t.render():t)}var d=n(0),m=n.n(d),p=n(3),f={insert:"head",singleton:!1};m()(p.a,f),p.a.locals;class g extends c{constructor(t){if(super(t),this.iconUrl="",this.content="",!this.props.onClick)throw new Error("onClick property is missing!")}createElement(){return u("button",{className:"control_pannel__btn"+(" "+this.props.className||""),onClick:this.props.onClick},u("img",{src:this.iconUrl,className:"control_pannel__icon"}),this.content)}}var _={en:{strings:{emptySearchResult:"Nothing found",apiUnavailableError:"Sorry, the service is currently unavailable. Please, try again later.",search:"search",searchError:"Search query must be at least 3 characters long!",enterLocation:"Enter a city",searchResults:"Results",feelslike:"Feels like",humidity:"Humidity",wind:"Wind",windUnits:"m/s",buttons:{changeLanguageBtn:"Language(en/ru)",changeBackgroundBtn:"Background",changeUnitsBtn:"Temperature(С/F)",searchBtn:"Search",settingsBtn:"Settings"}}},ru:{strings:{emptySearchResult:"Ничего не найдено",apiUnavailableError:"Извините, сервис временно недоступен. Пожалуйста, повторите попытку поздее.",search:"искать",searchError:"Длина поискового запроса должна быть как минимум три символа!",enterLocation:"Введите город",searchResults:"Результаты",feelslike:"Ощущается как",humidity:"Влажность",wind:"Ветер",windUnits:"м/с",buttons:{changeLanguageBtn:"Язык(анг/рус)",changeBackgroundBtn:"Фон",changeUnitsBtn:"Температура(С/F)",searchBtn:"Поиск",settingsBtn:"Настройки"}}}};class y extends g{constructor(t){super(t);this.iconUrl=t.isMenuOpen?"https://www.svgrepo.com/show/257428/search.svg":"https://www.svgrepo.com/show/56131/settings.svg";const e=_[this.props.language].strings.buttons;this.content=t.isMenuOpen?e.searchBtn:e.settingsBtn}}var v=n(4),w={insert:"head",singleton:!1};m()(v.a,w),v.a.locals;class b extends c{createElement(){return u("ul",{className:"slider-menu list--horizontal hidden"},...this.props.buttons.map(t=>u("li",{className:"slider-menu__element"},t)))}}var $=n(5),x={insert:"head",singleton:!1};m()($.a,x),$.a.locals;class M extends c{constructor(t){super(t),this.strings=_[t.language].strings}createElement(){return u("form",{id:"search",className:"search"+this.props.className,onSubmit:this.props.submitHandler},u("label",{className:"search__field"},u("input",{className:"search__input",placeholder:""+this.strings.enterLocation})),u("button",{className:"search__btn",type:"submit"},this.strings.search),this.props.errorMsg?u("span",{className:"search__error card full-opacity",onClick:this.props.removeError},this.props.errorMsg):"")}}class S{constructor(){this.url="https://api.opencagedata.com/geocode/v1/json",this.token="6879a9cd673a40e19407cc4a43555f76"}async getLocationListFromStr(t,e={}){const n=await r(this.url,{q:t,key:this.token,...e});return n.results.map(t=>{const{geometry:e,components:n,formatted:r}=t;return{geometry:e,location:i(n),formatted:r}})}async getStringFromCoordinates(t,e){return i((await r(this.url,{q:t,key:this.token,...e})).results[0].components)}}var k=n(6),L={insert:"head",singleton:!1};m()(k.a,L),k.a.locals;class E extends c{createElement(){return u("div",{className:"loader"},"loading...")}}var D=n(7),N={insert:"head",singleton:!1};m()(D.a,N),D.a.locals;class C extends c{createElement(){const{results:t,strings:e}=this.props;return u("div",{className:"modal card"},u("h2",{className:"modal__title"},e.searchResults),t.length>0?u("ul",{className:"modal__content list--vertical"},...t.map(t=>u("li",{className:"modal__option",onClick:()=>this.props.optionClickHandler(t)},t.formatted))):u("h3",{className:"modal__message"},e.emptySearchResult))}}class O{constructor(t,e,n){this.promise=t,this.onAccept=e,this.onDecline=n,this.backdropClickHandler=this.backdropClickHandler.bind(this),this.isLoading=!0}static unmount(){document.body.style.overflow="auto";const t=document.getElementById("backdrop"),e=document.getElementById("modal");t.style.display="none",t.removeEventListener("click",this.backdropClickHandler),e.innerHTML=""}backdropClickHandler(){O.unmount(),this.onDecline&&this.onDecline()}optionClickHandler(t){O.unmount(),this.onAccept&&this.onAccept(t)}mount(t){const e=_[t.language].strings;document.body.style.overflow="hidden";const n=document.getElementById("backdrop");n.style.display="block",n.addEventListener("click",this.backdropClickHandler),h(u(E,{}),"modal"),this.promise.then(t=>{h(u(C,{results:t,strings:e,optionClickHandler:this.optionClickHandler.bind(this)}),"modal")}).catch(()=>{h(u("h2",{className:"modal__title"},e.apiUnavailableError),"modal")})}}class H extends c{constructor(t){super(t),this.api=new S,this.errorMsg=""}onSubmit(t){t.preventDefault();const{language:e}=this.props,n=_[e].strings,r=t.target.querySelector("input");if(r.value.trim().length<3)return this.errorMsg=n.searchError,this.update(),void setTimeout(this.removeError.bind(this),2e3);new O(this.api.getLocationListFromStr(r.value,{language:e}),t=>this.props.processResult(t)).mount({language:e}),r.value=""}update(){const t=document.getElementById("search"),e=this.createElement().render();t.innerHTML=e.innerHTML}removeError(){this.errorMsg="",this.update()}createElement(){const{language:t}=this.props,e=this.props.isMenuOpen?" hidden-mobile":"";return u(M,{removeError:this.removeError.bind(this),errorMsg:this.errorMsg,language:t,submitHandler:this.onSubmit.bind(this),className:e})}}class T extends c{createElement(){return this.props.children}}class z extends g{constructor(t){super(t);const e=_[t.language].strings.buttons;this.iconUrl="https://www.svgrepo.com/show/309738/local-language.svg",this.content=e.changeLanguageBtn}}class Y extends g{constructor(t){super(t);const e=_[t.language].strings.buttons;this.iconUrl="https://www.svgrepo.com/show/214103/background.svg",this.content=e.changeBackgroundBtn}}class U extends g{constructor(t){super(t);const e=_[this.props.language].strings.buttons;this.iconUrl="c"===this.props.units?"https://www.svgrepo.com/show/194517/temperature-fahrenheit.svg":"https://www.svgrepo.com/show/194515/temperature.svg",this.content=e.changeUnitsBtn}}class B extends c{createElement(){const{language:t,units:e}=this.props;return u(T,{},u(U,{onClick:this.props.unitBtnHandler,units:e,language:t}),u(z,{onClick:this.props.langBtnHandler,language:t}),u(Y,{onClick:this.props.backgroundHandler,language:t}))}}class I extends c{createElement(){const{language:t,isMenuOpen:e}=this.props,n=e?"Search":"Menu";return u("header",{className:"header control_pannel"},u("div",{className:"list--horizontal control_pannel__list"},...u(B,this.props)),u(y,{onClick:this.props.toggleSliderMenuHandler,language:t,className:"slider-menu-btn",content:n,isMenuOpen:e}),e?u(b,{buttons:u(B,this.props)}):"",u(H,{language:t,processResult:this.props.searchHandler,isMenuOpen:e}))}}class j{constructor(t,e,n){this.id=t,this.state={...e},this.state.isMenuOpen=!1,this.eventHandlers=n}toggleSliderMenuHandler(){this.state.isMenuOpen=!this.state.isMenuOpen,this.render()}update(t){this.state={...this.state,...t},this.render()}render(){h(u(I,{language:this.state.language,units:this.state.units,isMenuOpen:this.state.isMenuOpen,searchHandler:this.eventHandlers.onSearch,unitBtnHandler:this.eventHandlers.onChangeUnits,langBtnHandler:this.eventHandlers.onChangeLanguage,backgroundHandler:this.eventHandlers.onBackgroundChange,toggleSliderMenuHandler:this.toggleSliderMenuHandler.bind(this)}),this.id)}}var W=n(2),F=n.n(W),R=n(12),A=n.n(R),P=n(13),q=n.n(P),Z=n(8),J={insert:"head",singleton:!1};m()(Z.a,J),Z.a.locals;F.a.extend(A.a),F.a.extend(q.a);class K extends c{constructor(t){super(t),this.id="clock"}createElement(){clearInterval(K.interval);const t=this.props.timezone,e=u("div",{className:"weather__clock clock",id:"clock"},F()().tz(t).format("HH:mm:ss"));return K.interval=setInterval(this._update.bind(this),1e3),e}_update(){const t=this.props.timezone;try{document.getElementById(this.id).textContent=F()().tz(t).format("HH:mm:ss")}catch(t){clearInterval(K.interval)}}}n(11);var V=n(9),G={insert:"head",singleton:!1};m()(V.a,G),V.a.locals;class X extends c{createElement(){const{feelslike:t,humidity:e,wind:n}=this.props.items;return u("ul",{className:"weather-info list--vertical"+(this.props.className?" "+this.props.className:"")},u("li",{className:"weather-info__item"},t),u("li",{className:"weather-info__item"},e),u("li",{className:"weather-info__item"},n))}}class Q extends c{createElement(){if(this.props.hasError)return null;const{language:t,temp:e,units:n}=this.props,r=_[t].strings,s={feelslike:`${r.feelslike}: ${this.props.feelslike[n]}º${n}`,humidity:`${r.humidity}: ${this.props.humidity}%`,wind:`${r.wind}: ${this.props.wind.vel} ${r.windUnits} (${this.props.wind.dir})`};return u("div",{className:"weather card"},u("p",{className:"weather__location card__text"},this.props.location),u("div",{className:"weather__temperature card__text"},e[n]+"º"+n),u("div",{className:"group weather__description"},u("img",{className:"weather__icon",src:this.props.icon}),u("p",{className:"weather__summary card__text"},this.props.summary)),u("p",{className:"weather__date card__text"},F()().locale(t.toLowerCase()).format("dddd, D MMMM")),u(K,{timezone:this.props.timezone}),u(X,{className:"card__text",items:s}))}}function tt({forecastday:t},e="en"){return t.map(t=>({date:F()(t.date).locale(e).format("dddd, D MMMM"),temp:{c:t.day.avgtemp_c,f:t.day.avgtemp_f},text:t.day.condition.text,icon:t.day.condition.icon}))}class et{constructor(){this.url="https://api.weatherapi.com/v1",this.apiKey="47eeeda7c03d424593062451210501"}async getCurrentWeather(t,e){if(!(t instanceof s))throw new TypeError(`"location" must be of the type Coordinates, not "${typeof t}"`);return function({current:t}){return{temp:{c:t.temp_c,f:t.temp_f},feelslike:{c:t.feelslike_c,f:t.feelslike_f},icon:t.condition.icon,summary:t.condition.text,humidity:t.humidity,wind:{vel:Math.round(1e3*t.wind_kph/3600),dir:t.wind_dir}}}(await r(this.url+"/current.json",{q:t.toString(),key:this.apiKey,lang:e}))}async getThreeDaysWeather(t,e){if(!(t instanceof s))throw new TypeError(`"location" must be of the type Coordinates, not "${typeof t}"`);return{forecast:tt((await r(this.url+"/forecast.json",{q:t.toString(),key:this.apiKey,lang:e.toLowerCase(),days:3})).forecast,e.toLowerCase())}}}class nt{constructor(t,e){this.weatherAPI=t,this.geocodingAPI=e}async parseLocationFromState(t){return this.geocodingAPI.getStringFromCoordinates(t.latLng,{language:t.language})}async getWeatherFromState(t){return this.weatherAPI.getCurrentWeather(t.latLng,t.language.toLowerCase())}}class rt extends c{createElement(){return this.props.hasError?this.props.errorElement:this.props.successElement}}class st{constructor(t){this.id=t,this.apiFacade=new nt(new et,new S),this.state={latLng:{},language:"en",hasError:!1,isLoading:!0},this.isRequestNeeded=!0}async _updateLocationAndLanguage(t,e){this.state.isLoading=!0;const n=await this.apiFacade.parseLocationFromState(t);this.state={...this.state,...t},this.state.location=n,e({location:n})}async update(t,e){this.state.isLoading=!0,this.render();const n=t.latLng.toString()!==this.state.latLng.toString();if(t.language!==this.state.language||n){try{await this._updateLocationAndLanguage(t,e)}catch(t){this.state.hasError=!0}this.isRequestNeeded=!0}let r={};if(this.isRequestNeeded){try{this.state.isLoading=!0,r=await this.apiFacade.getWeatherFromState(t)}catch(t){this.state.hasError=!0}this.isRequestNeeded=!1}this.state={...this.state,...r},this.state.units=t.units,this.state.language=t.language,this.state.timezone=t.timezone,this.state.isLoading=!1,this.render()}render(){const t=_[this.state.language].strings;h(this.state.isLoading?u(E,{isLoading:this.state.isLoading}):u(rt,{hasError:this.state.hasError,successElement:u(Q,{...this.state}),errorElement:u("div",{className:"card"},t.apiUnavailableError)}),this.id)}}var at=n(10),it={insert:"head",singleton:!1};m()(at.a,it),at.a.locals;class ot extends c{createElement(){if(this.props.hasError)return null;const{units:t}=this.props;return this.props.forecast.map(e=>u("div",{className:"forecast__day card"},u("div",{className:"forecast__date card__text"},e.date),u("div",{className:"forecast__temperature card__text"},e.temp[t]+"º"+t),u("div",{className:"group"},u("img",{className:"forecast__icon card__text",src:e.icon}),u("div",{className:"forecast__summary card__text"},e.text))))}}class ct{constructor(t){this.api=new et,this.id=t,this.state={latLng:null,hasError:!1,isLoading:!0,language:"en"},this.isRequestNeeded=!0}async update(t){this.state.isLoading=!0,this.render();let e={};const n=t.latLng!==this.state.latLng,r=t.language!==this.state.language;if((n||r)&&(this.isRequestNeeded=!0),this.isRequestNeeded){try{e=await this.api.getThreeDaysWeather(t.latLng,t.language)}catch{this.state.hasError=!0}this.isRequestNeeded=!1}this.state={...this.state,...t,...e},this.state.units=t.units,this.state.location=t.location,this.state.isLoading=!1,this.render()}render(){const t=_[this.state.language].strings;h(this.state.isLoading?u(E,{}):u(rt,{hasError:this.state.hasError,successElement:u(ot,{...this.state}),errorElement:u("div",{className:"card"},t.apiUnavailableError)}),this.id)}}class lt extends c{createElement(){return[u("section",{className:"main-weather"},u("div",{className:"current-weather",id:"current-weather"}),u("div",{className:"map",id:"map"})),u("div",{className:"forecast",id:"forecast-weather"})]}}class ut{constructor(){this.url="https://api.unsplash.com/photos/random",this.apiKey="Tpoi8pHhe4YYzZnOg4NPnmd05gHWdeXtWkVWnJDDwgA"}async getRandom(){return(await r(this.url,{client_id:this.apiKey,collections:"70572780",auto:"format"})).urls.regular}}class ht{constructor(t){this.api=new ut,this.container=document.getElementById(t),this.default="https://www.lukas-petereit.com/wp-content/uploads/2018/08/Sunset-at-Verdon-Canyon-Landscape-of-Provence-Photography-in-France.jpg"}async apply(){let t;try{t=await this.api.getRandom()}catch(e){t=this.default}this.container.style.background=`rgba(0,0,0,0.1) center / cover no-repeat url(${t}) fixed`}}const dt=["country-label","state-label","settlement-label","settlement-subdivision-label","airport-label","poi-label","water-point-label","water-line-label","natural-point-label","natural-line-label","waterway-label","road-label"];class mt{constructor(t,e,n){if(!(e instanceof s))throw new TypeError(`"latLng" must be of the type Coordinates, not "${typeof e}"`);this.geocoding=new S,this.labels=dt,this.apiKey="pk.eyJ1IjoidWdvLWgiLCJhIjoiY2tqc2J3eHN2N3hyMzJybGd5a2dtOXUyaiJ9.TRxoTzoIGpx8ZkGuuuPKgg",this.dragEvent=n,this.id=t,this._initMap(e)}_initMap({lat:t,lng:e}){mapboxgl.accessToken=this.apiKey,this.map=new mapboxgl.Map({container:this.id,style:"mapbox://styles/mapbox/streets-v11",center:[e,t],zoom:8}),this.marker=new mapboxgl.Marker({draggable:!0}).setLngLat([e,t]).addTo(this.map),this.marker.on("dragend",this._onDragEnd.bind(this)),this.isStyleLoaded=!1}async _onDragEnd(){const t=this.marker.getLngLat(),e=await this.geocoding.getStringFromCoordinates(`${t.lat},${t.lng}`);this.dragEvent({geometry:t,location:e})}_updateLabelsAndHandleErrors(t){try{this._updateLabels(t)}catch(e){this.map.on("load",this._updateLabels.bind(this,t))}}_updateLabels(t){this.labels.forEach(e=>{this.map.setLayoutProperty(e,"text-field",["get","name_"+t])})}update(t,{lat:e,lng:n}){this._updateLabelsAndHandleErrors(t);const r=[n,e];this.map.jumpTo({center:r}),this.marker.setLngLat(r)}}class pt{constructor(){this.url="http://api.geonames.org/timezoneJSON",this.username="ugo_h"}async getTimezoneFromCoordinates(t){return(await r(this.url,{lat:t.lat,lng:t.lng,username:this.username})).timezoneId}}document.cookie="Set-Cookie: promo_shown=1; SameSite=Lax";(new class{constructor(){this.state={units:null,location:null,latLng:{},language:null},this.render(),this.geolocation=new o,this.timezone=new pt,this.currentWeather=new st("current-weather"),this.forecastWeather=new ct("forecast-weather"),this.background=new ht("container")}changeUnits(){this.state.units="c"===this.state.units?"f":"c",this.update(),this.saveState()}changeLang(){this.state.language="ru"===this.state.language?"en":"ru",this.update(),this.map.update(this.state.language,this.state.latLng),this.saveState()}changeBackground(){this.background.apply()}async processSearchResult({geometry:t,location:e}){this.state.timezone=await this.timezone.getTimezoneFromCoordinates({...t}),this.state.latLng=new s(t.lat,t.lng),this.state.location=e,this.currentWeather.update({...this.state},this.setState.bind(this)),this.forecastWeather.update({...this.state}),this.map.update(this.state.language,this.state.latLng),window.scrollTo({top:0,behavior:"smooth"})}setState(t){Object.keys(t).forEach(e=>{this.state[e]=t[e]})}saveState(){const{language:t,units:e}=this.state;localStorage.setItem("preferences",JSON.stringify({language:t,units:e}))}async loadState(){const t=await this.geolocation.getLocation();this.state=a(t);const e=localStorage.getItem("preferences");if(e){const{language:t,units:n}=JSON.parse(e);this.state.language=t,this.state.units=n}}update(){this.currentWeather.update({...this.state},this.setState.bind(this)),this.forecastWeather.update({...this.state}),this.controlBlock.update({...this.state})}async init(){await this.loadState(),this.background.apply(),this.controlBlock=new j("control",{language:this.state.language,location:this.state.location},{onBackgroundChange:this.changeBackground.bind(this),onChangeLanguage:this.changeLang.bind(this),onChangeUnits:this.changeUnits.bind(this),onSearch:this.processSearchResult.bind(this)}),this.update(),function(t,e){let n=!1,r=document.createElement("script");r.type="text/javascript",r.src=t,r.onload=r.onreadystatechange=function(){n||this.readyState&&"complete"!==this.readyState||(n=!0,e())};let s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(r,s)}("https://api.mapbox.com/mapbox-gl-js/v2.0.1/mapbox-gl.js",()=>{this.map=new mt("map",this.state.latLng,this.processSearchResult.bind(this)),this.map.update(this.state.language,this.state.latLng)})}render(){h(u(lt,{}),"container")}}).init()}]);